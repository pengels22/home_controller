<!-- DO Module Settings Popup -->
<div class="module-settings-popup">
  <h2>DO Module Settings</h2>
  <form>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:10px">
      <label style="min-width:110px">Module Name:</label>
      <input type="text" name="module_name" style="flex:1;min-width:180px" />
    </div>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:18px">
      <label style="min-width:110px">I2C Address:</label>
      <input type="text" name="i2c_address" style="flex:1;min-width:180px" />
    </div>
    <div class="channels">
      <h3>Channels</h3>
      <div style="display:flex;gap:32px">
        <div>
          <h4>Channels 1-8</h4>
          <div style="display:flex;flex-direction:column;gap:4px">
            <!-- Channel 1-8 -->
            {% for i in range(1,9) %}
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="ch{{i}}" placeholder="Channel {{i}}" style="width:90px" />
              <label>Override
                <select name="ch{{i}}_override">
                  <option value="none">None</option>
                  <option value="on">On</option>
                  <option value="off">Off</option>
                </select>
              </label>
              <label>Invert <input type="checkbox" name="ch{{i}}_invert" /></label>
            </div>
            {% endfor %}
          </div>
        </div>
        <div>
          <h4>Channels 9-16</h4>
          <div style="display:flex;flex-direction:column;gap:4px">
            <!-- Channel 9-16 -->
            {% for i in range(9,17) %}
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="ch{{i}}" placeholder="Channel {{i}}" style="width:90px" />
              <label>Override
                <select name="ch{{i}}_override">
                  <option value="none">None</option>
                  <option value="on">On</option>
                  <option value="off">Off</option>
                </select>
              </label>
              <label>Invert <input type="checkbox" name="ch{{i}}_invert" /></label>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <button type="submit">Save</button>
    <button type="button" onclick="closePopup()">Cancel</button>
  </form>
</div>