<!-- AIO Module Settings Popup -->
<div class="module-settings-popup">
  <h2>AIO Module Settings</h2>
  <form>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:10px">
      <label style="min-width:110px">Module Name:</label>
      <input type="text" name="module_name" style="flex:1;min-width:180px" />
    </div>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:18px">
      <label style="min-width:110px">RS485 Address:</label>
      <span id="address_value">1</span>
    </div>
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:18px">
      <label style="min-width:110px">Set DIP Switches:</label>
      <div style="display:flex;gap:12px">
        <div class="dipswitch-group">
          <div class="dipswitch-label">SW1</div>
          <div class="dipswitch">
            <div class="dipswitch-slider dipswitch-off" id="dip1_slider" onclick="toggleDip(1)"></div>
            <div class="dipswitch-state" id="dip1_val">OFF</div>
            <input type="number" id="dip1" value="0" min="0" max="1" style="display:none;" />
          </div>
        </div>
        <div class="dipswitch-group">
          <div class="dipswitch-label">SW2</div>
          <div class="dipswitch">
            <div class="dipswitch-slider dipswitch-off" id="dip2_slider" onclick="toggleDip(2)"></div>
            <div class="dipswitch-state" id="dip2_val">OFF</div>
            <input type="number" id="dip2" value="0" min="0" max="1" style="display:none;" />
          </div>
        </div>
        <div class="dipswitch-group">
          <div class="dipswitch-label">SW3</div>
          <div class="dipswitch">
            <div class="dipswitch-slider dipswitch-off" id="dip3_slider" onclick="toggleDip(3)"></div>
            <div class="dipswitch-state" id="dip3_val">OFF</div>
            <input type="number" id="dip3" value="0" min="0" max="1" style="display:none;" />
          </div>
        </div>
      </div>
      <div style="margin-top:6px;font-size:12px;color:#666;">Set DIP switches to set the RS485 address for your module</div>
    </div>
    <div class="channels">
      <h3>Channel Names</h3>
      <div style="display:flex;gap:32px">
        <div>
          <h4>In 1-8</h4>
          <div style="display:flex;flex-direction:column;gap:4px">
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in1" placeholder="IN1 Name" style="width:90px" />
              <input type="number" name="in1_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in2" placeholder="IN2 Name" style="width:90px" />
              <input type="number" name="in2_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in3" placeholder="IN3 Name" style="width:90px" />
              <input type="number" name="in3_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in4" placeholder="IN4 Name" style="width:90px" />
              <input type="number" name="in4_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in5" placeholder="IN5 Name" style="width:90px" />
              <input type="number" name="in5_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in6" placeholder="IN6 Name" style="width:90px" />
              <input type="number" name="in6_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in7" placeholder="IN7 Name" style="width:90px" />
              <input type="number" name="in7_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="in8" placeholder="IN8 Name" style="width:90px" />
              <input type="number" name="in8_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
          </div>
        </div>
        <div>
          <h4>Out 1-8</h4>
          <div style="display:flex;flex-direction:column;gap:4px">
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out1" placeholder="OUT1 Name" style="width:90px" />
              <input type="number" name="out1_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out2" placeholder="OUT2 Name" style="width:90px" />
              <input type="number" name="out2_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out3" placeholder="OUT3 Name" style="width:90px" />
              <input type="number" name="out3_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out4" placeholder="OUT4 Name" style="width:90px" />
              <input type="number" name="out4_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out5" placeholder="OUT5 Name" style="width:90px" />
              <input type="number" name="out5_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out6" placeholder="OUT6 Name" style="width:90px" />
              <input type="number" name="out6_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out7" placeholder="OUT7 Name" style="width:90px" />
              <input type="number" name="out7_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
            <div style="display:flex;align-items:center;gap:8px">
              <input type="text" name="out8" placeholder="OUT8 Name" style="width:90px" />
              <input type="number" name="out8_maxv" placeholder="Max V" step="0.5" min="0" max="24" style="width:70px" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Removed global Max Voltage input -->
    <button type="submit">Save</button>
    <button type="button" onclick="closePopup()">Cancel</button>
  </form>
</div>